{% extends 'main/layout.html' %}

{% load static %}

{% block title %}{{ object.displayname }} at Chaitin School{% endblock %}

{% block meta %}
<meta name="twitter:card" content="summary">
<meta property="og:title" content="{{ object.displayname }} — Chaitin School">
<meta property="og:description" content="{{ object.full_name|default:object.username }}, member of Chaitin School.">
<meta property="og:image" content="https://chaitinschool.org{% static 'logo.png' %}">
{% endblock %}

{% block content %}
<section class="profile">
    <h1>
        About
        {% if object.full_name %}
        {{ object.full_name }}
        {% else %}
        {{ object.displayname }}
        {% endif %}
    </h1>

    <div>{{ object.about_as_html|safe }}</div>

    {% if object == request.user %}
    {% if not request.user.avatar_data %}
    <p>
        <a href="{% url 'user_avatar' %}">Add profile picture »</a>
    </p>
    {% endif %}
    <p>
        <a href="{% url 'user_update' %}">Settings »</a>
    </p>
    {% endif %}
</section>
{% endblock %}

{% block sidedetails %}
<div style="text-align: center;">
    {% if object == request.user %}
    <a href="{% url 'user_avatar' %}">
        <img src="data:image;base64,{{ object.avatar_base64 }}" class="profile-avatar">
    </a>
    {% else %}
    <img src="data:image;base64,{{ object.avatar_base64 }}" class="profile-avatar">
    {% endif %}
    <div class="profile-text">
        {{ object.displayname }}
    </div>
</div>
{% endblock %}
