{% extends 'main/layout.html' %}

{% load static %}

{% block logo %}
<div class="logo">
    <a href="{% url 'index' %}">
        <img src="{% static 'logo.svg' %}">
    </a>
</div>
<a href="{% url 'index' %}" class="title">
    <h1>Chaitin School</h1>
</a>
{% endblock %}

{% block content %}
<article>
    <strong>About</strong> <small>(in one sentence)</small>
    <p>
        We are a community of people interested in software engineering as a
        fun activity of leisure time as well as a craft to become skilled at.
    </p>
    <form method="post" action="{% url 'index' %}">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
        {% csrf_token %}
        <input type="submit" value="subscribe">
    </form>
</article>

{% if request.user.is_authenticated %}
<article>
    <strong>Draft Workshops</strong>
    | <a href="{% url 'admin:main_workshop_add' %}">Add new</a>

    <ul class="events">
        {% for w in draft_workshop_list %}
        <li>
            <code>{{ w.scheduled_at|date:'Y-m-d' }}</code>
            <a href="{% url 'workshop_detail' w.slug %}">
                {{ w.title }}
            </a>
        </li>
        {% endfor %}
    </ul>
</article>
{% endif %}

{% if future_workshop_list %}
<article>
    <strong>Upcoming Workshops – Meetups</strong>
    <ul class="events">
        {% for w in future_workshop_list %}
        <li>
            <code>{{ w.scheduled_at|date:'Y-m-d' }}</code>
            <a href="{% url 'workshop_detail' w.slug %}">
                {{ w.title }}
            </a>
        </li>
        {% endfor %}
    </ul>
</article>
{% endif %}

<article>
    <strong>Past Events</strong>
    <ul class="events">
        {% for w in past_workshop_list %}
        <li>
            <code>{{ w.scheduled_at|date:'Y-m-d' }}</code>
            <a href="{% url 'workshop_detail' w.slug %}">
                {{ w.title }}
            </a>
        </li>
        {% endfor %}
    </ul>
</article>

<article>
    <strong>About</strong> <small>(in one paragraph)</small>
    <p>
        Programming is a fun skill we want to become better at. We value
        learning together rather than alone. We are a school because the
        etymological definition of school is “leisure time”. We are a
        school that is:
    </p>
    <ul>
        <li>not only for beginners</li>
        <li>not online</li>
        <li>not based on a teacher-student model</li>
        <li>not transaction-based</li>
    </ul>
</article>

<article>
    <strong>Philosophy</strong>
    <p>
        school &lt; from Ancient Greek σχολεῖον (skholeîon), from σχολή
        (skholḗ, “spare time, leisure”, later, “conversations and the
        knowledge gained through them during free time; the places
        where these conversations took place”) —
        <small>
            (from <a href="https://en.wiktionary.org/wiki/school#Etymology_2">Wiktionary</a>)
        </small>
    </p>
    <p>
        School used to mean leisure; then it came to be the things
        one gained when on leisure. Now it means death.
    </p>
    <p>
        Let’s reclaim it.
    </p>
</article>

<article>
    <strong>Subscribe</strong>
    <form method="post" action="{% url 'index' %}">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
        {% csrf_token %}
        <input type="submit" value="submit">
    </form>
</article>

{% if request.user.is_authenticated %}
<article>
    <strong>Blog</strong>
    | <a href="{% url 'admin:main_post_add' %}">Add new</a>

    <ul>
        {% for post in post_list %}
        <li>
            <a href="{% url 'post' post.slug %}">{{ post }}</a>
            {% if post.published_at %} — {{ post.published_at|date:'F j, Y' }} {% endif %}
            | <a href="{% url 'admin:main_post_change' post.id %}">Edit</a>
        </li>
    {% endfor %}
    </ul>
</article>
{% else %}
<article>
    <strong>Blog</strong>
    <ul>
        {% for post in post_list %}
        {% if post.is_published %}
        <li>
            <a href="{% url 'post' post.slug %}">{{ post }}</a>
            — {{ post.published_at|date:'F j, Y' }}
        </li>
        {% endif %}
        {% endfor %}
    </ul>
</article>
{% endif %}

<article>
    <strong>Chat</strong>
    <p>
        We’re on <a href="https://t.me/joinchat/5HSd1uRcdE5kMGFk">Telegram</a>
        and on <a href="https://discord.gg/bzjKNG4bUU">Discord</a>.
    </p>
</article>

<article>
    <strong>FAQ</strong>
    <p>
        – Can I make proposals?
        <br>– Naturally. Propose <a href="{% url 'proposal' %}">here</a>.
    </p>

    <p>
        – What does Chaitin mean?
        <br>–
        <a href="https://en.wikipedia.org/wiki/Gregory_Chaitin">Gregory Chaitin</a>
        is a computer scientist—among others—known for his
        <a href="https://en.wikipedia.org/wiki/Chaitin%27s_constant">constant</a>.
    </p>
</article>
{% endblock %}
